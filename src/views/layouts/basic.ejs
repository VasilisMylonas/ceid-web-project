<!DOCTYPE html>
<html lang="el">

<head>
  <%- include('../components/head', { title: title }) %>
  <link rel="preload" href="/images/upatras_logo.gif" as="image">
  <script src="/js/sidebar.js"></script>
</head>

<body>
  <div class="container-fluid">

    <div
        class="sidebar position-fixed top-0 start-0 border-end d-flex flex-column">

      <div
          class="bg-body non-collapsable px-2 d-flex flex-row-reverse justify-content-between align-items-center flex-md-column justify-content-md-center align-items-md-center">

        <button type="button" class="btn" id="sidebar-toggle"
            aria-label="Toggle sidebar">
          <i class="bi bi-list fs-2" aria-hidden="true"></i>
        </button>

        <img src="/images/upatras_logo.gif" alt="Πανεπιστήμιο Πατρών"
            class="m-2" />
      </div>

      <div class="collapsable d-flex flex-column flex-grow-1">
        <nav
            class="list-group list-group-flush flex-md-column border-top flex-grow-1">
          <% links.forEach((link) => { %>
          <!-- Prefetch  for performance -->
          <link rel="prefetch" href="<%= link.href %>" />
          <a href="<%= link.href %>"
              class="list-group-item list-group-item-action d-flex align-items-center <%= page === link.href ? 'active' : ''%>"
              data-bs-toggle="tooltip" data-bs-placement="right"
              data-bs-original-title="<%= link.title %>">
            <i class="bi <%= link.icon %> sidebar-link-icon fs-3"
                aria-hidden="true"></i>
            <span class="sidebar-link-text mx-3">
              <%= link.title %>
            </span>
          </a>
          <% }); %>
        </nav>

        <div class="list-group list-group-flush flex-md-column border-top">
          <button type="button" id="theme-toggle"
              class="list-group-item list-group-item-action d-flex align-items-center"
              data-bs-toggle="tooltip" data-bs-placement="right"
              data-bs-original-title="Θέμα">
            <i id="theme-icon" class="bi bi-moon sidebar-link-icon fs-3"
                aria-hidden="true"></i>
            <span class="sidebar-link-text mx-3">Θέμα</span>
          </button>
          <button
              class="list-group-item list-group-item-action d-flex align-items-center"
              data-bs-toggle="tooltip" data-bs-placement="right"
              data-bs-original-title="Ρυθμίσεις">
            <i class="bi bi-gear-fill sidebar-link-icon fs-3"
                aria-hidden="true"></i>
            <span class="sidebar-link-text mx-3">
              Ρυθμίσεις
            </span>
          </button>
          <button type="button" id="logout"
              class="list-group-item list-group-item-action d-flex align-items-center"
              data-bs-toggle="tooltip" data-bs-placement="right"
              data-bs-original-title="Αποσύνδεση">
            <i class="bi bi-door-open sidebar-link-icon fs-3"
                aria-hidden="true"></i>
            <span class="sidebar-link-text mx-3">Αποσύνδεση</span>
          </button>
        </div>
      </div>

    </div>

    <main class="main-content p-4" style="max-height: 100dvh;">
      <%- body %>
    </main>

  </div>

</body>

</html>
