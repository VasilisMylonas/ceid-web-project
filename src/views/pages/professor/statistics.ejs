<style>
  :root {
    --clr-supervisor: rgba(54, 162, 235, 0.5);
    --clr-supervisor-border: rgba(54, 162, 235, 1);
    --clr-member: rgba(255, 159, 64, 0.5);
    --clr-member-border: rgba(255, 159, 64, 1);
    --card-min-height: 320px;
  }
  @media (prefers-color-scheme: dark) {
    :root { color-scheme: dark; }
  }
  .card-body {
    position: relative;
    min-height: var(--card-min-height);
  }
  .card-body canvas {
    display: block;
    width: 100% !important;
    height: 260px !important;
  }
  .empty-state {
    position: absolute;
    inset: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    pointer-events: none;
    color: #6c757d; /* muted */
    font-size: 0.95rem;
    text-align: center;
    padding: 0 1rem;
  }
</style>

<main class="container-fluid" aria-labelledby="page-title">
  <h1 id="page-title" class="h2 mb-4">Στατιστικά Διπλωματικών</h1>
  <div id="a11y-status" aria-live="polite" class="visually-hidden"></div>

  <section class="row g-4" aria-label="Γραφήματα στατιστικών">
    <article class="col-lg-6">
      <div class="card" role="group" aria-labelledby="completion-title">
        <div class="card-header" id="completion-title">Μέσος Χρόνος Ολοκλήρωσης</div>
        <div class="card-body">
          <canvas id="completionTimeChart" role="img" aria-label="Μέσος χρόνος ολοκλήρωσης Επιβλέπων έναντι Μέλους"></canvas>
          <p class="text-center text-muted mt-2">Γράφημα για μέσο χρόνο ολοκλήρωσης (Επιβλέπων vs Μέλος)</p>
        </div>
      </div>
    </article>

    <article class="col-lg-6">
      <div class="card" role="group" aria-labelledby="grade-title">
        <div class="card-header" id="grade-title">Μέση Βαθμολογία</div>
        <div class="card-body">
          <canvas id="averageGradeChart" role="img" aria-label="Μέση βαθμολογία Επιβλέπων έναντι Μέλους"></canvas>
          <p class="text-center text-muted mt-2">Γράφημα για μέση βαθμολογία (Επιβλέπων vs Μέλος)</p>
        </div>
      </div>
    </article>

    <article class="col-lg-6">
      <div class="card" role="group" aria-labelledby="total-title">
        <div class="card-header" id="total-title">Συνολικό Πλήθος Διπλωματικών</div>
        <div class="card-body">
          <canvas id="totalThesesChart" role="img" aria-label="Συνολικό πλήθος διπλωματικών: Επιβλέπων vs Μέλος"></canvas>
          <p class="text-center text-muted mt-2">Γράφημα για συνολικό πλήθος (Επιβλέπων vs Μέλος)</p>
        </div>
      </div>
    </article>
  </section>
</main>

<noscript>Απαιτείται JavaScript για την εμφάνιση των γραφημάτων.</noscript>

<script src="https://cdn.jsdelivr.net/npm/chart.js@4.5.0/dist/chart.umd.min.js" defer></script>
<script>
  // Dummy data function
  window.getStatistics = async function() {
    return {
      success: true,
      data: {
        avgCompletionDaysSupervised: 180,
        avgCompletionDays: 200,
        avgGradeSupervised: 8.5,
        avgGrade: 7.9,
        totalSupervised: 12,
        total: 25
      }
    };
  };
</script>
<script type="module" src="/js/pages/professor/statistics.js" defer></script>
