<div class="container-fluid py-4">
  <h2 class="mb-4">Διαχείριση Διπλωματικής Εργασίας</h2>

  <!-- Card for selecting a thesis from a table -->
  <div class="card shadow-sm mb-4">
    <div class="card-body">
      <h5 class="card-title">Επιλογή Διπλωματικής Εργασίας</h5>
      <p class="card-text text-muted">Επιλέξτε μια διπλωματική από τη λίστα για να εμφανιστούν οι επιλογές διαχείρισης.</p>
      <div class="table-responsive">
        <table class="table table-striped table-hover">
          <thead>
            <tr>
              <th scope="col">Θέμα</th>
              <th scope="col">Φοιτητής</th>
              <th scope="col">Επιβλέπων</th>
              <th scope="col">Κατάσταση</th>
            </tr>
          </thead>
          <tbody id="management-theses-table-body">
            <!-- Thesis rows will be populated by JS -->
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <!-- This container will be shown when a thesis is selected -->
  <div id="management-sections" style="display: none;">
    <!-- Active Thesis Management Section -->
    <div id="state-active" class="card shadow-sm mb-4" style="display: none;">
      <div class="card-body">
        <h5 class="card-title">Κατάσταση: Ενεργή</h5>
        <p class="card-text text-muted">Καταχωρήστε τον Αριθμό Πράξης Γενικής Συνέλευσης ή ακυρώστε την ανάθεση.</p>
        <form class="mb-3">
          <div class="row g-3">
            <div class="col-md-6">
              <label for="protocolNumber" class="form-label">Αριθμός Πράξης Γ.Σ.</label>
              <input type="text" class="form-control" id="protocolNumber" placeholder="π.χ. 1234">
            </div>
            <div class="col-md-6">
              <label for="protocolYear" class="form-label">Έτος Γ.Σ.</label>
              <input type="text" class="form-control" id="protocolYear" placeholder="π.χ. 2024">
            </div>
          </div>
          <div class="d-grid mt-3">
            <button type="submit" class="btn btn-success">
              <i class="bi bi-check-circle me-2"></i>
              Καταχώρηση Αριθμού Πράξης
            </button>
          </div>
        </form>
        <hr>
        <div class="mb-3">
          <label for="cancellation-reason" class="form-label">Λόγος Ακύρωσης</label>
          <input type="text" class="form-control" id="cancellation-reason" placeholder="Προαιρετικό πεδίο...">
        </div>
        <button id="cancel-assignment-btn" class="btn btn-danger w-100">
          <i class="bi bi-trash-fill me-2"></i>
          Ακύρωση Ανάθεσης
        </button>
      </div>
    </div>

    <div id="state-under-examination" class="card shadow-sm" style="display: none;">
      <div class="card-body">
        <h5 class="card-title">Κατάσταση: Υπό Εξέταση</h5>
        <p class="card-text text-muted">Αλλαγή της κατάστασης σε "Περατωμένη" μόλις ολοκληρωθούν οι απαραίτητες ενέργειες.</p>
        <form>
          <div class="d-grid">
            <button type="submit" class="btn btn-success">
              <i class="bi bi-check-circle-fill me-2"></i>
              Αλλαγή Κατάστασης σε «Περατωμένη»
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<script src="/js/pages/secretary-manage-thesis.js"></script>
